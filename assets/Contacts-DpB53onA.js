import{k as J,n as Q,g as v,o as X,p as Z,j as r,f as W,I as ee,r as S,e as C,B as x,d as k,N as T,q as te,T as w,t as ne,b as se,v as _,w as re,x as oe}from"./index-DLHKS1xb.js";import{g as ie,F,a as P,I as N}from"./chunk-6CVSDS6C-C90qDb8Y.js";import{H as M}from"./chunk-7OLJDQMT-Cy4Lq46R.js";import{F as ae}from"./chunk-VGESXGVT-CidzvNu-.js";function ce(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function le(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ue(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${s}]`)}}var E=e=>Array.isArray(e)?e:[e];function pe(e){const t=Array.isArray(e[0])?e[0]:e;return ue(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function de(e,t){const s=[],{length:n}=e;for(let o=0;o<n;o++)s.push(e[o].apply(null,t));return s}var me=class{constructor(e){this.value=e}deref(){return this.value}},fe=typeof WeakRef<"u"?WeakRef:me,he=0,O=1;function j(){return{s:he,v:void 0,o:null,p:null}}function z(e,t={}){let s=j();const{resultEqualityCheck:n}=t;let o,a=0;function c(){var h;let i=s;const{length:l}=arguments;for(let m=0,g=l;m<g;m++){const f=arguments[m];if(typeof f=="function"||typeof f=="object"&&f!==null){let d=i.o;d===null&&(i.o=d=new WeakMap);const y=d.get(f);y===void 0?(i=j(),d.set(f,i)):i=y}else{let d=i.p;d===null&&(i.p=d=new Map);const y=d.get(f);y===void 0?(i=j(),d.set(f,i)):i=y}}const u=i;let p;if(i.s===O)p=i.v;else if(p=e.apply(null,arguments),a++,n){const m=((h=o==null?void 0:o.deref)==null?void 0:h.call(o))??o;m!=null&&n(m,p)&&(p=m,a!==0&&a--),o=typeof p=="object"&&p!==null||typeof p=="function"?new fe(p):p}return u.s=O,u.v=p,p}return c.clearCache=()=>{s=j(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}function ye(e,...t){const s=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let a=0,c=0,i,l={},u=o.pop();typeof u=="object"&&(l=u,u=o.pop()),ce(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const p={...s,...l},{memoize:h,memoizeOptions:m=[],argsMemoize:g=z,argsMemoizeOptions:f=[],devModeChecks:d={}}=p,y=E(m),V=E(f),I=pe(o),L=h(function(){return a++,u.apply(null,arguments)},...y),K=g(function(){c++;const G=de(I,arguments);return i=L.apply(null,G),i},...V);return Object.assign(K,{resultFunc:u,memoizedResultFunc:L,dependencies:I,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>i,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var D=ye(z),xe=Object.assign((e,t=D)=>{le(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),n=s.map(a=>e[a]);return t(n,(...a)=>a.reduce((c,i,l)=>(c[s[l]]=i,c),{}))},{withTypes:()=>xe}),A={exports:{}},ge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",be=ge,ve=be;function q(){}function $(){}$.resetWarningCache=q;var je=function(){function e(n,o,a,c,i,l){if(l!==ve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$,resetWarningCache:q};return s.PropTypes=s,s};A.exports=je();var Se=A.exports;const b=J(Se);var[Ce,U]=Q({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),R=v(function(t,s){const n=X("List",t),{children:o,styleType:a="none",stylePosition:c,spacing:i,...l}=Z(t),u=ie(o),h=i?{["& > *:not(style) ~ *:not(style)"]:{mt:i}}:{};return r.jsx(Ce,{value:n,children:r.jsx(W.ul,{ref:s,listStyleType:a,listStylePosition:c,role:"list",__css:{...n.container,...h},...l,children:u})})});R.displayName="List";var Re=v((e,t)=>{const{as:s,...n}=e;return r.jsx(R,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...n})});Re.displayName="OrderedList";var Te=v(function(t,s){const{as:n,...o}=t;return r.jsx(R,{ref:s,as:"ul",styleType:"initial",marginStart:"1em",...o})});Te.displayName="UnorderedList";var B=v(function(t,s){const n=U();return r.jsx(W.li,{ref:s,...t,__css:n.item})});B.displayName="ListItem";var we=v(function(t,s){const n=U();return r.jsx(ee,{ref:s,role:"presentation",...t,__css:n.icon})});we.displayName="ListIcon";const Ne=e=>e.contacts.items,Ie=e=>e.contacts.filter,Le=D([Ne,Ie],(e,t)=>{const s=t.toLowerCase();return e.filter(n=>n.name.toLowerCase().includes(s))}),Fe=()=>{const[e,t]=S.useState(""),[s,n]=S.useState(""),[o,a]=S.useState(""),c=C(),i=l=>{if(l.preventDefault(),!/^[0-9\s\-]+$/.test(s)){a("Phone number can only contain digits, spaces, and hyphens."),T.Notify.failure("Phone number can only contain digits, spaces, and hyphens.");return}a(""),c(te({name:e,number:s})).then(()=>{T.Notify.success("Contact added successfully!"),t(""),n("")}).catch(()=>{T.Notify.failure("Failed to add contact.")})};return r.jsxs(x,{as:"form",onSubmit:i,p:6,borderWidth:1,borderRadius:"md",boxShadow:"lg",maxWidth:"400px",width:"100%",mx:"auto",mt:6,bg:"rgba(255, 255, 255, 0.9)",children:[r.jsxs(F,{isInvalid:!!o,mb:4,children:[r.jsx(M,{as:"h2",size:"lg",mb:6,textAlign:"center",children:"Add a new contact"}),r.jsx(P,{children:"Name"}),r.jsx(N,{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"Name",required:!0})]}),r.jsxs(F,{isInvalid:!!o,mb:4,children:[r.jsx(P,{children:"Phone Number"}),r.jsx(N,{type:"text",value:s,onChange:l=>n(l.target.value),placeholder:"Phone number",pattern:"[0-9\\s\\-]*",required:!0}),r.jsx(ae,{children:o})]}),r.jsx(k,{type:"submit",colorScheme:"teal",children:"Add Contact"})]})},H=({contacts:e})=>{const t=C(),s=n=>{t(ne(n))};return r.jsxs(x,{mt:6,children:[" ",r.jsx(R,{spacing:3,children:e.map(n=>r.jsxs(B,{p:3,borderWidth:1,borderRadius:"md",boxShadow:"md",display:"flex",alignItems:"center",justifyContent:"space-between",sx:{textShadow:"1px 1px 3px rgba(0, 0, 0, 0.3)"},children:[r.jsxs(x,{flex:"1",display:"flex",alignItems:"center",children:[r.jsxs(w,{fontWeight:"bold",mr:2,children:[n.name,":"]}),r.jsx(w,{children:n.number})]}),r.jsx(k,{onClick:()=>s(n.id),colorScheme:"red",children:"Delete"})]},n.id))})]})};H.propTypes={contacts:b.arrayOf(b.shape({id:b.string.isRequired,name:b.string.isRequired,number:b.string.isRequired})).isRequired};const Pe=()=>{const e=C(),{isLoggedIn:t}=se(),s=_(o=>o.contacts.filter);if(!t)return null;const n=o=>{e(re(o.target.value))};return r.jsxs(x,{mt:6,p:4,borderWidth:1,borderRadius:"md",boxShadow:"lg",maxWidth:"400px",width:"100%",mx:"auto",bg:"rgba(255, 255, 255, 0.9)",children:[r.jsx(w,{mb:2,fontSize:"lg",fontWeight:"semibold",children:"Find contacts by name"}),r.jsx(N,{type:"text",value:s,onChange:n,placeholder:"Search by name",variant:"outline"})]})},_e=()=>{const e=C(),t=_(Le);return S.useEffect(()=>{e(oe())},[e]),r.jsxs(x,{p:6,display:"flex",flexDirection:"column",alignItems:"center",bg:"linear-gradient(to-r, teal.300, blue.500)",minHeight:"100vh",children:[r.jsx(M,{mb:4,color:"white",children:"Contacts Page"}),r.jsx(Fe,{}),r.jsx(Pe,{}),r.jsx(x,{width:"full",maxWidth:"600px",mx:4,mt:4,children:r.jsx(H,{contacts:t})})]})};export{_e as default};
